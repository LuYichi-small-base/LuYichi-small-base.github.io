# 樱花Frp（Sakura Frp）内网穿透

## 导言

> Frp是一款内网穿透工具，但是需要借助带公网IPv4地址的服务器才能正常进行内网穿透，Sakura Frp是为我们提供了免费的服务器。
> 在IPv4统治的时代，由于公网地址匮乏，很多时候我们需要借助第三方工具+拥有IPv4公网地址的服务器进行内网穿透。

但IPv6现在已基本实现了全覆盖，中共中央、国务院、工信部于2017年就开始连续发文督促各地进行IPv6升级，基本上18年之后新装的家用宽带都是支持IPv6的。

因此你可以看下你家的家用宽带是否支持IPv6，一台机器是可以分多个公网IPv6地址的（一般每台机器都是一长一短，还有很多临时的公网IPv6地址，另外现在家用宽带基本上也都是几百兆的，效果肯定不是几MbPS的服务器宽带能够比拟的）

## 限速说明

普通流量可以通过签到获得，如果有普通流量，那么隧道限速10 Mbps。普通流量耗尽后只是临时限速到 4Mbps（免费用户）或 8Mbps（VIP用户）, 24小时后自动恢复限速并重置流量, 不会停止映射的隧道。

## 使用说明

1、进入Sakura Frp官网，注册并登录账号

2、点击创建隧道

[![LPJhKH.png](https://s1.ax1x.com/2022/04/09/LPJhKH.png)](https://imgtu.com/i/LPJhKH)

3、点击隧道列表，查看相应隧道的配置文件，然后全选所有的配置内容，并复制到粘贴板

[![LPJ4rd.png](https://s1.ax1x.com/2022/04/09/LPJ4rd.png)](https://imgtu.com/i/LPJ4rd)

4、下载[Frp](https://github.com/fatedier/frp/releases)

5、随便建一个frp的配置文件（如frpc_2.ini），文件内容为第3步复制的配置信息。

[![LPJjMQ.png](https://s1.ax1x.com/2022/04/09/LPJjMQ.png)](https://imgtu.com/i/LPJjMQ)

6、随便创建一个批处理文件（如frp_2.bat），编写一条在启动 `frpc.exe` 程序的时候将配置文件传进去的指令，然后运行这个批处理文件（不编写批处理文件，直接在cmd中运行在启动`frpc.exe`程序的时候将配置文件传进去的指令也行）

[![LPJOxg.png](https://s1.ax1x.com/2022/04/09/LPJOxg.png)](https://imgtu.com/i/LPJOxg)

——————————分——割——线——————————

首先，非常感谢您使用 Sakura Frp，这是一个免费的内网穿透软件，服务器由 KasuganoSora 出资购置和搭建，同时也感谢 GG~ 提供的其他三个节点。

> Sakura Frp 地址：https://www.natfrp.org/ 
>
> 备用地址：https://frp.tcotp.cn:4443/

**请注意注册的时候尽量不要使用中文名和特殊符号，不要使用空格，英文数字下划线就是最佳组合（不是因为网站漏洞，而是因为特殊的用户名会对后续登录造成很大影响！）**

下面我们以几个典型的例子来教您如何创建和使用映射。

### **一、用自家电脑搭建网站**

点击 Sakura Frp 平台左侧的 “映射列表”，进入隧道管理，然后在右侧开始创建一个新隧道。

本地地址填写 127.0.0.1，本地端口填写 80（如果你的网站运行在其他端口则需要修改为你的端口），隧道类型选择 “HTTP 映射” 或者 “HTTPS 映射”（如果你的网站有 HTTPS 证书的话）

接着会出现绑定域名这一栏，在里面输入你自己的域名，例如 www.example.com，GZIP 可以根据您的需要开启或关闭。

请注意：同一个域名可以被 HTTP 和 HTTPS 两个协议同时使用，但是不能被相同协议绑定两次，也就是 A 用户创建了一个域名为 xx.com 的 HTTP 隧道，B 用户就不能创建域名为 xx.com 的 HTTP 隧道了，但是 B 用户可以创建域名为 xx.com 的 HTTPS 隧道。

然后点击添加，即可完成隧道创建。

### **二、用自家电脑搭建 Minecraft 服务器**

点击 Sakura Frp 平台左侧的 “映射列表”，进入隧道管理，然后在右侧开始创建一个新隧道。

本地地址填写 127.0.0.1，本地端口填写 25565（如果你的 MC 服务器运行在其他端口则需要修改为你的端口），隧道类型选择 TCP 映射（手机版 MC 服务器是 UDP 映射）

然后在远程端口随意输入一个大于 1024，小于 65535 的整数（请注意，25565 – 25656 之间的端口都已经被系统预留，不可使用）

接着点击添加，如果提示端口已经被占用，请尝试换一个远程端口，直到添加成功为止。

### **三、将局域网其他设备映射出去**

例如家里有两台机器，一台是家用机，另一台是 NAS 储存服务器，家用机运行 frp 客户端，将 NAS 的文件服务映射出去。

假设 NAS 服务器的局域网 IP 地址为 192.168.3.233，文件服务运行在 22 端口（即 SFTP），那么则可以按照以下步骤操作：

点击 Sakura Frp 平台左侧的 “映射列表”，进入隧道管理，然后在右侧开始创建一个新隧道。

本地地址填写 192.168.3.233，本地端口填写 22，隧道类型选择 TCP 映射。

然后在远程端口随意输入一个大于 1024，小于 65535 的整数（请注意，25565 – 25656 之间的端口都已经被系统预留，不可使用）

接着点击添加，如果提示端口已经被占用，请尝试换一个远程端口，直到添加成功为止。

创建完成隧道后，我们点击左侧的 “客户软件”，进入客户端下载页面。

在此页面根据您的操作系统类型，选择对应版本的客户端，例如本人的 Windows 10 64 位系统则可以选择 Windows x64。

下载完成后，运行客户端软件，此时要求输入您的平台账号密码，请注意使用用户名登录（所以说不要注册特殊的用户名）

登录成功后，系统会提示选择一条映射线路（如果软件秒退说明登录失败了，重新启动软件吧）

这里有几条线路是可选择的：

0.宁波电信 [s1.natfrp.org] 120G 高防线路，适合搭 Minecraft 服务器。
1.宁波联通 [s2.natfrp.org] 联通线路，防御 20G，适合部分移动、联通用户使用。
2.贵州电信 [s3.natfrp.org] 贵州千兆线路，适合搭 Minecraft 服务器。
3.徐州电信 [s4.natfrp.org] 徐州高防电信，适合搭建已备案的网站。
4.美国纽约 [s5.natfrp.org] 美国千兆线路，适合搭建未备案的网站。
5.深圳电信 [s7.natfrp.org] 深圳电信家用宽带外网线路，适合临时调试。

输入对应的数字，即可成功启动映射。