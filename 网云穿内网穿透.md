# 网云穿内网穿透

## 导语

**现在大多企业都会在公司内部搭建自己的财务系统，管理系统；类似于金蝶、OA、erp等等；员工在公司内网可通过ip加端口直接访问，提高工作效率与综合效益**

但是像有些创建的分公司，在没有公网ip的情况下，是无法在外网访问到分公司的这个应用的；在外出差，在家休假等都无法登录到公司内部系统处理解决问题，这样的话就会非常不方便 如果遇到这种情况该怎么办呢？扯专线，费用很贵。买服务器也是一笔不小的开支，我们可以通过网云穿内网穿透去决绝这一难题。

大家的宽带基本都没有公网 IP，无论家里还是公司的设备都处于内网里，是无法在互联网上被直接访问的，我们需要内网穿透工具 (或叫端口映射软件) 来解决这问题。但此类工具很多都比较复杂；为了简单，我们挑选了免费的「网云穿」来作为教程给大家演示…… 

网云穿内网穿透全教程：[内网穿透教程 (neiwangchuantou.cn)](http://www.neiwangchuantou.cn/)

## 网云穿：www.xiaomy.net

网云穿是一款非常简洁易用且免费的内网穿透工具以及端口映射软件。你无需额外购买和配置服务器、也不必设置路由器，就能轻松地将局域网内的 Windows、Mac、Linux 电脑、群晖 /威联通 NAS、树莓派、摄像头等等各种网络设备“对外开放”，解决无公网 IP 的烦恼。 

[![LP1m6A.png](https://s1.ax1x.com/2022/04/09/LP1m6A.png)](https://imgtu.com/i/LP1m6A)

成功穿透内网之后，自己或他人都能在互联网上直接访问到你所提供的网络服务，比如家里 NAS 建立的私人网盘、公司内部的金蝶、用友、管家婆等 OA、ERP 系统、树莓派上建立的网站/数据库、摄像头监控、远程桌面连接控制 PC 或 Mac 电脑、自建的游戏服务器等等。而且它还有1条永久免费的隧道可以“白嫖”，有需要的同学不妨来试试看。

## 设置教程

### 一、远程访问电脑桌面、文件共享、发布网站、游戏服务器

你要做的其实主要只有三步：

> 1、注册网云穿帐号，创建一条“隧道”；
>
> 2、在目标设备上安装网云穿客户端；
>
> 3、配置好隧道所指向的内网端口。下面我们一个个来

#### 1、注册网云穿帐号，获取一条免费的“隧道”

点击网云穿官网注册帐号，登录后在官网首页，点击「开通免费隧道」按钮，即可申请到一条永久免费的隧道。

网云穿赠送的是能永久免费使用的（1个账号赠送1条映射），所以建议大家还是趁机会愉快地白嫖一个吧！之后进入控制台后，点击“隧道购买/管理”，就能看到。 

#### 2、配置你的内网穿透隧道

在控制台里点击“隧道管理”，找到你的免费隧道，点击“配置”进入如上面的界面，这里根据你的具体用途，填写对应的项： 

> 隧道名称：随意填写，比如你可以根据用途写“家中PC远程桌面”
>
> 内网地址：填写你的电脑的内网 IP，本机可写 127.0.0.1 (如要连接局域网内其他设备，则填写其局域网 IP)，这里我们只需要访问电脑本机。
>
> 内网端口：填写要内网穿透的端口，也就是你电脑上提供的网络服务的端口，例如 Win 的远程桌面端口默认是 3389，网站常用是 80 等等，根据你的实际用途填写。这里我们演示远程桌面，所以填写 3389，端口后面随时都能改。
>
> 二级域名：网云穿会免费给你赠送一个二级域名，我们日后就是通过这个域名进行访问的。
>
> 穿透协议：根据你的服务类型选择，如要穿透访问网站应选择 HTTP；如远程桌面、数据库等就选 TCP，游戏可能要选 UDP。我们这远程桌面所以选 TCP，点确定即完成配置。 

之后，你就能看到此隧道的获得了一个「二级域名」了，比如 xxxxx.dongtaiyuming.net (你获取到的也许会不同)。不过为了好记，你也能申请改名或绑定自己的域名)。以后，我们都是用此域名进行访问的。

#### 3、在受访的电脑上安装内网穿透客户端

网云穿的客户端支持 Windows、macOS 和 Linux (包括 arm) 系统，因此能安装到电脑、路由器、NAS、树莓派等设备上。在这里，我们下载 Windows 客户端 

[![LP3KgJ.png](https://s1.ax1x.com/2022/04/09/LP3KgJ.png)](https://imgtu.com/i/LP3KgJ)

安装启动并登录你的账号之后，就能在客户端上看到你配置好的“隧道”了，如果没问题就开启它即可，然后就得到了最终的「映射地址」，如上图 xxx.dongtaiyuming.net:40738。至此其实你已经搞定了电脑远程桌面连接的内网穿透配置了。（客户端不显示外网端口的话，可以登录控制台-点击隧道管理-即可看到隧道上的外网端口）

#### 4、允许 Windows 被远程控制

当然了，想要远程桌面控制，还得在 Windows 的设置里允许“启用远程桌面”才行。Windows 10 开启的方法如下图；而 Win7 则在我的电脑图标→右键→属性→远程设置→远程，勾选“允许远程协助连接这台计算机”以及“允许运行任意版本远程桌面的计算机连接 (较不安全)”两个选项。

[![LP3qGF.png](https://s1.ax1x.com/2022/04/09/LP3qGF.png)](https://imgtu.com/i/LP3qGF)

在异地的电脑上，打开“Windows 远程桌面连接”客户端，在“计算机”处填入你的网云穿隧道的「映射地址」(包含端口号)，并填入正确的用户名密码，就能对无公网 IP 的电脑实现真正无障碍的远程控制了！手机版或 Mac 版的微软远程桌面也同样适用。

#### 6、附加功能：一键文件共享

此外，针对大家比较常用到的“远程文件共享”需求，网云穿的 Windows 版客户端还额外加入了一个贴心的“一键文件共享”功能，你在客户端的主界面就能找到这个按钮。

点击此按钮然后，你可以设置一个“共享路径”，比如 c:文件资料，然后就能将此文件夹共享出去 (你还可以设置密码访问)。

一键文件共享的默认内网端口号是 50123，使用的是 HTTP 协议，所以我们还需要将隧道的端口和协议重新修改下，之后任何人都能通过隧道域名来访问我们共享的文件目录了。不过如果你只有一条免费隧道的话，那么就得改来改去了。 

#### 7、总结

看到这里，想必大家都基本明白网云穿是怎样设置的了吧。整体还是很简单的，基本上你只需搞清楚局域网设备的内网 IP、端口号以及协议类型，正确设置好“隧道”信息，就能成功穿透内网进行连接了。完全免去了自己去购买、安装、配置服务器或者设置路由器的麻烦。 

### 二、群晖内网穿透设置教程 - 实现群晖 NAS 远程访问

除了电脑远程控制，大家最常用到内网穿透的地方就是 NAS 远程访问了。这里以最热门的群晖 NAS 穿透内网设置作为例子，其他牌子如威联通、铁威马的基本大同小异，可以参考。

#### 1、配置隧道，填写正确的内网 IP 和端口号

我们先在网云穿官网上配置好群晖使用的“隧道”，可以参考上面电脑穿透教程的第一步，注册帐号并领取你的免费隧道。

在群晖的控制面板→网络→DSM 设置里可以查看当前 NAS 使用的端口号，默认一般是 5000，这样我们进入网云穿的网页控制台，把隧道的内网端口设置成 5000，内网 IP 写 127.0.0.1 即可。


然后，这里需要先记录下此隧道的「令牌」以及你的「二级域名」，后面会需要用到。


配置完隧道，如何启动群晖，可以点击链接查看

http://neiwangchuantou.cn/archives/112.html

#### 2、远程访问你的群晖 NAS！

进行到最后一步已经大功告成了！在互联网上任何的电脑或手机上，现在都能通过访问你的隧道域名，如 http://xxxx.dongtaiyuming.net，连接上你家里的群晖 NAS。

由于这个隧道选择了 HTTP 模式，我们无需添加端口都能直接访问；而如果选 TCP 模式，则需用 域名:外网端口 方式访问。

实测我这个 3mbps 的免费隧道下载文件也能跑满 3mbps，峰值更高，一般日常的办公文档传输都够用了。

免费的网云穿基本上可以完美解决宽带没有公网 IP 的烦恼与问题，让你很简单轻松地搞定内网穿透访问，同时它支持的平台很多，应用范围非常广，能安装在电脑 PC、Mac、Linux 、路由器、树莓派等上面都行，所以后面有机会我们还可以尝试更多的玩法和应用。

### 三、搭建minecraft服务端-外网远程联机

> 美好的寒假生活来了，在家和外地朋友联机玩我的世界。但是没有公网ip怎么整？之前测试过几款内网穿透，有的需要自己搭建，很麻烦并且花费不低。有的穿透免费版外网端口不固定老是变，一遍就要重新连接游戏，非常麻烦；

**最近找到了一个免费的内网穿透，网云穿内网穿透；在了解了外网端口和域名是固定不变的，所以尝试了一番。感觉挺适用，配置比较简单，下载简单配置就可以让外网的朋友连进来一块开撸。做了一篇教程，有需要的可以参考，教程如下：**

#### 1、所需工具：

网云穿内网穿透
[我的世界]服务端 我用的是Minecraft 1.6.2版本

#### 2、打开网云穿官网，注册账号，开通免费隧道

[![LP8IQH.png](https://s1.ax1x.com/2022/04/09/LP8IQH.png)](https://imgtu.com/i/LP8IQH)
[![LP8oyd.png](https://s1.ax1x.com/2022/04/09/LP8oyd.png)](https://imgtu.com/i/LP8oyd)

#### 3、配置隧道

1、领取完隧道，会自动跳转控制台，让我们配置隧道

2、在命令提示符界面，输入ipconfig查看电脑的IP，一般127.0.0.1永远代表本机，填127.0.0.1即可

3、设置服务器配置（端口和ip）

4、回到控制台配置隧道，点击隧道上的配置，填写隧道信息，配置信息如下：

> ①隧道名称：自定义
>
> ②隧道地址：127.0.0.1 内网服务器ip
>
> ③内网端口：25565 我的世界服务端口
>
> ④二级域名:系统自动分配
>
> ⑤穿透协议：tcp

配置完点击确定：

#### 4、官网下载网云穿客户端

我的是windows系统，故下载windows客户端版本（根据自己系统下载对应版本）

1、客户端是绿色免安装的，下载解压，双击运行即可

2、登录客户端

登录客户端可以看到，软件分配我们一个映射地址，我们先复制映射地址，然后启动隧道

#### 5、在内网测试服务器连接是否正常

1、开启我的世界服务器

2、在局域网内我们另找一台电脑，来测试用内网ip和内网端口是否可以连接上服务

可以看到内网测试能成功连接

3、外网连接测试，看是否可以成功连接

在客户端 需要输入服务器地址的地方,输入我们刚才复制的映射地址即可

外网测试连接成功，可以邀请小伙伴开撸了，完美实现。